"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_node_modules_thirdweb-dev_wallets_evm_connectors_wallet-connect_dist_thirdweb-dev-wallet-e73c05";
exports.ids = ["_ssr_node_modules_thirdweb-dev_wallets_evm_connectors_wallet-connect_dist_thirdweb-dev-wallet-e73c05"];
exports.modules = {

/***/ "(ssr)/./node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-6011bbb1.esm.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-6011bbb1.esm.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   W: () => (/* binding */ WagmiConnector)\n/* harmony export */ });\n/* harmony import */ var _thirdweb_dev_chains__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @thirdweb-dev/chains */ \"(ssr)/./node_modules/@thirdweb-dev/chains/dist/thirdweb-dev-chains.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/node_modules/eventemitter3/index.mjs\");\n\n\n\nclass WagmiConnector extends eventemitter3__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /** Unique connector id */\n\n  /** Connector name */\n\n  /** Chains connector supports */\n\n  /** Options to use with connector */\n\n  /** Whether connector is usable */\n\n  constructor(_ref) {\n    let {\n      chains = _thirdweb_dev_chains__WEBPACK_IMPORTED_MODULE_1__.defaultChains,\n      options\n    } = _ref;\n    super();\n    this.chains = chains;\n    this.options = options;\n  }\n  getBlockExplorerUrls(chain) {\n    const explorers = chain.explorers?.map(x => x.url) ?? [];\n    return explorers.length > 0 ? explorers : undefined;\n  }\n  isChainUnsupported(chainId) {\n    return !this.chains.some(x => x.chainId === chainId);\n  }\n  updateChains(chains) {\n    this.chains = chains;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvV2FnbWlDb25uZWN0b3ItNjAxMWJiYjEuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUNaOztBQUV6Qyw2QkFBNkIscURBQVk7QUFDekM7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGVBQWUsK0RBQWE7QUFDNUI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2FwdG9nb3RjaGkvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvV2FnbWlDb25uZWN0b3ItNjAxMWJiYjEuZXNtLmpzPzcwMmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdENoYWlucyB9IGZyb20gJ0B0aGlyZHdlYi1kZXYvY2hhaW5zJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5cbmNsYXNzIFdhZ21pQ29ubmVjdG9yIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgLyoqIFVuaXF1ZSBjb25uZWN0b3IgaWQgKi9cblxuICAvKiogQ29ubmVjdG9yIG5hbWUgKi9cblxuICAvKiogQ2hhaW5zIGNvbm5lY3RvciBzdXBwb3J0cyAqL1xuXG4gIC8qKiBPcHRpb25zIHRvIHVzZSB3aXRoIGNvbm5lY3RvciAqL1xuXG4gIC8qKiBXaGV0aGVyIGNvbm5lY3RvciBpcyB1c2FibGUgKi9cblxuICBjb25zdHJ1Y3RvcihfcmVmKSB7XG4gICAgbGV0IHtcbiAgICAgIGNoYWlucyA9IGRlZmF1bHRDaGFpbnMsXG4gICAgICBvcHRpb25zXG4gICAgfSA9IF9yZWY7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNoYWlucyA9IGNoYWlucztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIGdldEJsb2NrRXhwbG9yZXJVcmxzKGNoYWluKSB7XG4gICAgY29uc3QgZXhwbG9yZXJzID0gY2hhaW4uZXhwbG9yZXJzPy5tYXAoeCA9PiB4LnVybCkgPz8gW107XG4gICAgcmV0dXJuIGV4cGxvcmVycy5sZW5ndGggPiAwID8gZXhwbG9yZXJzIDogdW5kZWZpbmVkO1xuICB9XG4gIGlzQ2hhaW5VbnN1cHBvcnRlZChjaGFpbklkKSB7XG4gICAgcmV0dXJuICF0aGlzLmNoYWlucy5zb21lKHggPT4geC5jaGFpbklkID09PSBjaGFpbklkKTtcbiAgfVxuICB1cGRhdGVDaGFpbnMoY2hhaW5zKSB7XG4gICAgdGhpcy5jaGFpbnMgPSBjaGFpbnM7XG4gIH1cbn1cblxuZXhwb3J0IHsgV2FnbWlDb25uZWN0b3IgYXMgVyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-6011bbb1.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@thirdweb-dev/wallets/dist/errors-b9032b4e.esm.js":
/*!************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/errors-b9032b4e.esm.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ AddChainError),\n/* harmony export */   C: () => (/* binding */ ChainNotConfiguredError),\n/* harmony export */   P: () => (/* binding */ ProviderRpcError),\n/* harmony export */   R: () => (/* binding */ ResourceUnavailableError),\n/* harmony export */   S: () => (/* binding */ SwitchChainError),\n/* harmony export */   U: () => (/* binding */ UserRejectedRequestError),\n/* harmony export */   a: () => (/* binding */ ConnectorNotFoundError)\n/* harmony export */ });\n/* harmony import */ var _defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./defineProperty-e24c82ea.esm.js */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/dist/defineProperty-e24c82ea.esm.js\");\n\n\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors per EIP-1474.\n * @see https://eips.ethereum.org/EIPS/eip-1474\n */\nclass RpcError extends Error {\n  constructor( /** Human-readable string */\n  message, options) {\n    const {\n      cause,\n      code,\n      data\n    } = options;\n    if (!Number.isInteger(code)) {\n      throw new Error('\"code\" must be an integer.');\n    }\n    if (!message || typeof message !== \"string\") {\n      throw new Error('\"message\" must be a nonempty string.');\n    }\n    super(`${message}. Cause: ${JSON.stringify(cause)}`);\n    this.cause = cause;\n    this.code = code;\n    this.data = data;\n  }\n}\n\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * @see https://eips.ethereum.org/EIPS/eip-1193\n */\nclass ProviderRpcError extends RpcError {\n  /**\n   * Create an Ethereum Provider JSON-RPC error.\n   * `code` must be an integer in the 1000 <= 4999 range.\n   */\n  constructor( /** Human-readable string */\n  message, options) {\n    const {\n      cause,\n      code,\n      data\n    } = options;\n    if (!(Number.isInteger(code) && code >= 1000 && code <= 4999)) {\n      throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n    }\n    super(message, {\n      cause,\n      code,\n      data\n    });\n  }\n}\nclass AddChainError extends Error {\n  constructor() {\n    super(...arguments);\n    (0,_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__._)(this, \"name\", \"AddChainError\");\n    (0,_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__._)(this, \"message\", \"Error adding chain\");\n  }\n}\nclass ChainNotConfiguredError extends Error {\n  constructor(_ref) {\n    let {\n      chainId,\n      connectorId\n    } = _ref;\n    super(`Chain \"${chainId}\" not configured for connector \"${connectorId}\".`);\n    (0,_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__._)(this, \"name\", \"ChainNotConfigured\");\n  }\n}\nclass ConnectorNotFoundError extends Error {\n  constructor() {\n    super(...arguments);\n    (0,_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__._)(this, \"name\", \"ConnectorNotFoundError\");\n    (0,_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__._)(this, \"message\", \"Connector not found\");\n  }\n}\nclass ResourceUnavailableError extends RpcError {\n  constructor(cause) {\n    super(\"Resource unavailable\", {\n      cause,\n      code: -32002\n    });\n    (0,_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__._)(this, \"name\", \"ResourceUnavailable\");\n  }\n}\nclass SwitchChainError extends ProviderRpcError {\n  constructor(cause) {\n    super(\"Error switching chain\", {\n      cause,\n      code: 4902\n    });\n    (0,_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__._)(this, \"name\", \"SwitchChainError\");\n  }\n}\nclass UserRejectedRequestError extends ProviderRpcError {\n  constructor(cause) {\n    super(\"User rejected request\", {\n      cause,\n      code: 4001\n    });\n    (0,_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_0__._)(this, \"name\", \"UserRejectedRequestError\");\n  }\n}\n\n// Ethers does not have an error type so we can use this for casting\n// https://github.com/ethers-io/ethers.js/blob/main/packages/logger/src.ts/index.ts#L268\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvZXJyb3JzLWI5MDMyYjRlLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF3RTs7QUFFeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVEsV0FBVyxzQkFBc0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksa0VBQWU7QUFDbkIsSUFBSSxrRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixvQkFBb0IsUUFBUSxrQ0FBa0MsWUFBWTtBQUMxRSxJQUFJLGtFQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGtFQUFlO0FBQ25CLElBQUksa0VBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxrRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGtFQUFlO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksa0VBQWU7QUFDbkI7QUFDQTs7QUFFQTtBQUNBOztBQUVxTSIsInNvdXJjZXMiOlsid2VicGFjazovL2FwdG9nb3RjaGkvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvZXJyb3JzLWI5MDMyYjRlLmVzbS5qcz81MzgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF8gYXMgX2RlZmluZVByb3BlcnR5IH0gZnJvbSAnLi9kZWZpbmVQcm9wZXJ0eS1lMjRjODJlYS5lc20uanMnO1xuXG4vKipcbiAqIEVycm9yIHN1YmNsYXNzIGltcGxlbWVudGluZyBKU09OIFJQQyAyLjAgZXJyb3JzIGFuZCBFdGhlcmV1bSBSUEMgZXJyb3JzIHBlciBFSVAtMTQ3NC5cbiAqIEBzZWUgaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xNDc0XG4gKi9cbmNsYXNzIFJwY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvciggLyoqIEh1bWFuLXJlYWRhYmxlIHN0cmluZyAqL1xuICBtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2F1c2UsXG4gICAgICBjb2RlLFxuICAgICAgZGF0YVxuICAgIH0gPSBvcHRpb25zO1xuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihjb2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImNvZGVcIiBtdXN0IGJlIGFuIGludGVnZXIuJyk7XG4gICAgfVxuICAgIGlmICghbWVzc2FnZSB8fCB0eXBlb2YgbWVzc2FnZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIm1lc3NhZ2VcIiBtdXN0IGJlIGEgbm9uZW1wdHkgc3RyaW5nLicpO1xuICAgIH1cbiAgICBzdXBlcihgJHttZXNzYWdlfS4gQ2F1c2U6ICR7SlNPTi5zdHJpbmdpZnkoY2F1c2UpfWApO1xuICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbn1cblxuLyoqXG4gKiBFcnJvciBzdWJjbGFzcyBpbXBsZW1lbnRpbmcgRXRoZXJldW0gUHJvdmlkZXIgZXJyb3JzIHBlciBFSVAtMTE5My5cbiAqIEBzZWUgaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0xMTkzXG4gKi9cbmNsYXNzIFByb3ZpZGVyUnBjRXJyb3IgZXh0ZW5kcyBScGNFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gRXRoZXJldW0gUHJvdmlkZXIgSlNPTi1SUEMgZXJyb3IuXG4gICAqIGBjb2RlYCBtdXN0IGJlIGFuIGludGVnZXIgaW4gdGhlIDEwMDAgPD0gNDk5OSByYW5nZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCAvKiogSHVtYW4tcmVhZGFibGUgc3RyaW5nICovXG4gIG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7XG4gICAgICBjYXVzZSxcbiAgICAgIGNvZGUsXG4gICAgICBkYXRhXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgaWYgKCEoTnVtYmVyLmlzSW50ZWdlcihjb2RlKSAmJiBjb2RlID49IDEwMDAgJiYgY29kZSA8PSA0OTk5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImNvZGVcIiBtdXN0IGJlIGFuIGludGVnZXIgc3VjaCB0aGF0OiAxMDAwIDw9IGNvZGUgPD0gNDk5OScpO1xuICAgIH1cbiAgICBzdXBlcihtZXNzYWdlLCB7XG4gICAgICBjYXVzZSxcbiAgICAgIGNvZGUsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIEFkZENoYWluRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCBcIkFkZENoYWluRXJyb3JcIik7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCBcIkVycm9yIGFkZGluZyBjaGFpblwiKTtcbiAgfVxufVxuY2xhc3MgQ2hhaW5Ob3RDb25maWd1cmVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKF9yZWYpIHtcbiAgICBsZXQge1xuICAgICAgY2hhaW5JZCxcbiAgICAgIGNvbm5lY3RvcklkXG4gICAgfSA9IF9yZWY7XG4gICAgc3VwZXIoYENoYWluIFwiJHtjaGFpbklkfVwiIG5vdCBjb25maWd1cmVkIGZvciBjb25uZWN0b3IgXCIke2Nvbm5lY3RvcklkfVwiLmApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwgXCJDaGFpbk5vdENvbmZpZ3VyZWRcIik7XG4gIH1cbn1cbmNsYXNzIENvbm5lY3Rvck5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCBcIkNvbm5lY3Rvck5vdEZvdW5kRXJyb3JcIik7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCBcIkNvbm5lY3RvciBub3QgZm91bmRcIik7XG4gIH1cbn1cbmNsYXNzIFJlc291cmNlVW5hdmFpbGFibGVFcnJvciBleHRlbmRzIFJwY0Vycm9yIHtcbiAgY29uc3RydWN0b3IoY2F1c2UpIHtcbiAgICBzdXBlcihcIlJlc291cmNlIHVuYXZhaWxhYmxlXCIsIHtcbiAgICAgIGNhdXNlLFxuICAgICAgY29kZTogLTMyMDAyXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCBcIlJlc291cmNlVW5hdmFpbGFibGVcIik7XG4gIH1cbn1cbmNsYXNzIFN3aXRjaENoYWluRXJyb3IgZXh0ZW5kcyBQcm92aWRlclJwY0Vycm9yIHtcbiAgY29uc3RydWN0b3IoY2F1c2UpIHtcbiAgICBzdXBlcihcIkVycm9yIHN3aXRjaGluZyBjaGFpblwiLCB7XG4gICAgICBjYXVzZSxcbiAgICAgIGNvZGU6IDQ5MDJcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIFwiU3dpdGNoQ2hhaW5FcnJvclwiKTtcbiAgfVxufVxuY2xhc3MgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yIGV4dGVuZHMgUHJvdmlkZXJScGNFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGNhdXNlKSB7XG4gICAgc3VwZXIoXCJVc2VyIHJlamVjdGVkIHJlcXVlc3RcIiwge1xuICAgICAgY2F1c2UsXG4gICAgICBjb2RlOiA0MDAxXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCBcIlVzZXJSZWplY3RlZFJlcXVlc3RFcnJvclwiKTtcbiAgfVxufVxuXG4vLyBFdGhlcnMgZG9lcyBub3QgaGF2ZSBhbiBlcnJvciB0eXBlIHNvIHdlIGNhbiB1c2UgdGhpcyBmb3IgY2FzdGluZ1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVycy1pby9ldGhlcnMuanMvYmxvYi9tYWluL3BhY2thZ2VzL2xvZ2dlci9zcmMudHMvaW5kZXgudHMjTDI2OFxuXG5leHBvcnQgeyBBZGRDaGFpbkVycm9yIGFzIEEsIENoYWluTm90Q29uZmlndXJlZEVycm9yIGFzIEMsIFByb3ZpZGVyUnBjRXJyb3IgYXMgUCwgUmVzb3VyY2VVbmF2YWlsYWJsZUVycm9yIGFzIFIsIFN3aXRjaENoYWluRXJyb3IgYXMgUywgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yIGFzIFUsIENvbm5lY3Rvck5vdEZvdW5kRXJyb3IgYXMgYSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@thirdweb-dev/wallets/dist/errors-b9032b4e.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@thirdweb-dev/wallets/dist/url-453bcd09.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/url-453bcd09.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ getValidPublicRPCUrl),\n/* harmony export */   i: () => (/* binding */ isTwUrl)\n/* harmony export */ });\n/* harmony import */ var _thirdweb_dev_chains__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @thirdweb-dev/chains */ \"(ssr)/./node_modules/@thirdweb-dev/chains/dist/thirdweb-dev-chains.esm.js\");\n\n\nfunction isTwUrl(url) {\n  const host = new URL(url).hostname;\n  return host.endsWith(\".thirdweb.com\") || host === \"localhost\" || host === \"0.0.0.0\";\n}\nfunction getValidPublicRPCUrl(chain) {\n  return (0,_thirdweb_dev_chains__WEBPACK_IMPORTED_MODULE_0__.getValidChainRPCs)(chain).map(rpc => {\n    try {\n      const url = new URL(rpc);\n      // remove client id from url\n      if (url.hostname.endsWith(\".thirdweb.com\")) {\n        url.pathname = \"\";\n        url.search = \"\";\n      }\n      return url.toString();\n    } catch (e) {\n      return rpc;\n    }\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvdXJsLTQ1M2JjZDA5LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUQ7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVFQUFpQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRW1EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXB0b2dvdGNoaS8uL25vZGVfbW9kdWxlcy9AdGhpcmR3ZWItZGV2L3dhbGxldHMvZGlzdC91cmwtNDUzYmNkMDkuZXNtLmpzPzE4Y2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VmFsaWRDaGFpblJQQ3MgfSBmcm9tICdAdGhpcmR3ZWItZGV2L2NoYWlucyc7XG5cbmZ1bmN0aW9uIGlzVHdVcmwodXJsKSB7XG4gIGNvbnN0IGhvc3QgPSBuZXcgVVJMKHVybCkuaG9zdG5hbWU7XG4gIHJldHVybiBob3N0LmVuZHNXaXRoKFwiLnRoaXJkd2ViLmNvbVwiKSB8fCBob3N0ID09PSBcImxvY2FsaG9zdFwiIHx8IGhvc3QgPT09IFwiMC4wLjAuMFwiO1xufVxuZnVuY3Rpb24gZ2V0VmFsaWRQdWJsaWNSUENVcmwoY2hhaW4pIHtcbiAgcmV0dXJuIGdldFZhbGlkQ2hhaW5SUENzKGNoYWluKS5tYXAocnBjID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChycGMpO1xuICAgICAgLy8gcmVtb3ZlIGNsaWVudCBpZCBmcm9tIHVybFxuICAgICAgaWYgKHVybC5ob3N0bmFtZS5lbmRzV2l0aChcIi50aGlyZHdlYi5jb21cIikpIHtcbiAgICAgICAgdXJsLnBhdGhuYW1lID0gXCJcIjtcbiAgICAgICAgdXJsLnNlYXJjaCA9IFwiXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHJwYztcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgeyBnZXRWYWxpZFB1YmxpY1JQQ1VybCBhcyBnLCBpc1R3VXJsIGFzIGkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@thirdweb-dev/wallets/dist/url-453bcd09.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@thirdweb-dev/wallets/evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.esm.js":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.esm.js ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WalletConnectConnector: () => (/* binding */ WalletConnectConnector)\n/* harmony export */ });\n/* harmony import */ var _dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/classPrivateMethodGet-71fe23d8.esm.js */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/dist/classPrivateMethodGet-71fe23d8.esm.js\");\n/* harmony import */ var _dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../dist/classPrivateFieldSet-e25e1cec.esm.js */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/dist/classPrivateFieldSet-e25e1cec.esm.js\");\n/* harmony import */ var _dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/defineProperty-e24c82ea.esm.js */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/dist/defineProperty-e24c82ea.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ethers */ \"(ssr)/./node_modules/ethers/lib/index.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(ethers__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _dist_walletIds_18a8e969_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../dist/walletIds-18a8e969.esm.js */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/dist/walletIds-18a8e969.esm.js\");\n/* harmony import */ var _dist_url_453bcd09_esm_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../dist/url-453bcd09.esm.js */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/dist/url-453bcd09.esm.js\");\n/* harmony import */ var _dist_WagmiConnector_6011bbb1_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../dist/WagmiConnector-6011bbb1.esm.js */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-6011bbb1.esm.js\");\n/* harmony import */ var _dist_errors_b9032b4e_esm_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../dist/errors-b9032b4e.esm.js */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/dist/errors-b9032b4e.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"(ssr)/./node_modules/@thirdweb-dev/wallets/node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\nconst chainsToRequest = new Set([1, 137, 10, 42161, 56]);\nconst NAMESPACE = \"eip155\";\nconst REQUESTED_CHAINS_KEY = \"wagmi.requestedChains\";\nconst ADD_ETH_CHAIN_METHOD = \"wallet_addEthereumChain\";\nconst LAST_USED_CHAIN_ID = \"last-used-chain-id\";\nvar _provider = /*#__PURE__*/new WeakMap();\nvar _initProviderPromise = /*#__PURE__*/new WeakMap();\nvar _storage = /*#__PURE__*/new WeakMap();\nvar _createProvider = /*#__PURE__*/new WeakSet();\nvar _initProvider = /*#__PURE__*/new WeakSet();\nvar _isChainsStale = /*#__PURE__*/new WeakSet();\nvar _removeListeners = /*#__PURE__*/new WeakSet();\nvar _setRequestedChainsIds = /*#__PURE__*/new WeakSet();\nvar _getRequestedChainsIds = /*#__PURE__*/new WeakSet();\nvar _getNamespaceChainsIds = /*#__PURE__*/new WeakSet();\nvar _getNamespaceMethods = /*#__PURE__*/new WeakSet();\nclass WalletConnectConnector extends _dist_WagmiConnector_6011bbb1_esm_js__WEBPACK_IMPORTED_MODULE_1__.W {\n  constructor(config) {\n    super({\n      ...config,\n      options: {\n        isNewChainsStale: true,\n        ...config.options\n      }\n    });\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _getNamespaceMethods);\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _getNamespaceChainsIds);\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _getRequestedChainsIds);\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _setRequestedChainsIds);\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _removeListeners);\n    /**\n     * Checks if the target chains match the chains that were\n     * initially requested by the connector for the WalletConnect session.\n     * If there is a mismatch, this means that the chains on the connector\n     * are considered stale, and need to be revalidated at a later point (via\n     * connection).\n     *\n     * There may be a scenario where a dapp adds a chain to the\n     * connector later on, however, this chain will not have been approved or rejected\n     * by the wallet. In this case, the chain is considered stale.\n     *\n     * There are exceptions however:\n     * -  If the wallet supports dynamic chain addition via `eth_addEthereumChain`,\n     *    then the chain is not considered stale.\n     * -  If the `isNewChainsStale` flag is falsy on the connector, then the chain is\n     *    not considered stale.\n     *\n     * For the above cases, chain validation occurs dynamically when the user\n     * attempts to switch chain.\n     *\n     * Also check that dapp supports at least 1 chain from previously approved session.\n     */\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _isChainsStale);\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _initProvider);\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__._)(this, _createProvider);\n    (0,_dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"id\", _dist_walletIds_18a8e969_esm_js__WEBPACK_IMPORTED_MODULE_4__.w.walletConnect);\n    (0,_dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"name\", \"WalletConnect\");\n    (0,_dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"ready\", true);\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__._)(this, _provider, {\n      writable: true,\n      value: void 0\n    });\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__._)(this, _initProviderPromise, {\n      writable: true,\n      value: void 0\n    });\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__._)(this, _storage, {\n      writable: true,\n      value: void 0\n    });\n    (0,_dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"onAccountsChanged\", accounts => {\n      if (accounts.length === 0) {\n        this.emit(\"disconnect\");\n      } else {\n        if (accounts[0]) {\n          this.emit(\"change\", {\n            account: ethers__WEBPACK_IMPORTED_MODULE_6__.utils.getAddress(accounts[0])\n          });\n        }\n      }\n    });\n    (0,_dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"onChainChanged\", async chainId => {\n      const id = Number(chainId);\n      const unsupported = this.isChainUnsupported(id);\n      await (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _storage).setItem(LAST_USED_CHAIN_ID, String(chainId));\n      this.emit(\"change\", {\n        chain: {\n          id,\n          unsupported\n        }\n      });\n    });\n    (0,_dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"onDisconnect\", async () => {\n      await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _setRequestedChainsIds, _setRequestedChainsIds2).call(this, []);\n      await (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _storage).removeItem(LAST_USED_CHAIN_ID);\n      this.emit(\"disconnect\");\n    });\n    (0,_dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"onDisplayUri\", uri => {\n      this.emit(\"message\", {\n        type: \"display_uri\",\n        data: uri\n      });\n    });\n    (0,_dist_defineProperty_e24c82ea_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"onConnect\", () => {\n      this.emit(\"connect\", {\n        provider: (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider)\n      });\n    });\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.a)(this, _storage, config.options.storage);\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _createProvider, _createProvider2).call(this);\n    this.filteredChains = this.chains.length > 50 ? this.chains.filter(c => {\n      return chainsToRequest.has(c.chainId);\n    }) : this.chains;\n  }\n  async connect() {\n    let {\n      chainId: chainIdP,\n      pairingTopic\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      let targetChainId = chainIdP;\n      if (!targetChainId) {\n        const lastUsedChainIdStr = await (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _storage).getItem(LAST_USED_CHAIN_ID);\n        const lastUsedChainId = lastUsedChainIdStr ? parseInt(lastUsedChainIdStr) : undefined;\n        if (lastUsedChainId && !this.isChainUnsupported(lastUsedChainId)) {\n          targetChainId = lastUsedChainId;\n        } else {\n          targetChainId = this.filteredChains[0]?.chainId;\n        }\n      }\n      if (!targetChainId) {\n        throw new Error(\"No chains found on connector.\");\n      }\n      const provider = await this.getProvider();\n      this.setupListeners();\n      const isChainsStale = await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _isChainsStale, _isChainsStale2).call(this);\n\n      // If there is an active session with stale chains, disconnect the current session.\n      if (provider.session && isChainsStale) {\n        await provider.disconnect();\n      }\n\n      // If there no active session, or the chains are stale, connect.\n      if (!provider.session || isChainsStale) {\n        const optionalChains = this.filteredChains.filter(chain => chain.chainId !== targetChainId).map(optionalChain => optionalChain.chainId);\n        this.emit(\"message\", {\n          type: \"connecting\"\n        });\n        await provider.connect({\n          pairingTopic,\n          chains: [targetChainId],\n          optionalChains: optionalChains.length > 0 ? optionalChains : [targetChainId]\n        });\n        await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _setRequestedChainsIds, _setRequestedChainsIds2).call(this, this.filteredChains.map(_ref => {\n          let {\n            chainId\n          } = _ref;\n          return chainId;\n        }));\n      }\n\n      // If session exists and chains are authorized, enable provider for required chain\n      const accounts = await provider.enable();\n      if (!accounts[0]) {\n        throw new Error(\"No accounts found on provider.\");\n      }\n      const account = ethers__WEBPACK_IMPORTED_MODULE_6__.utils.getAddress(accounts[0]);\n      const id = await this.getChainId();\n      const unsupported = this.isChainUnsupported(id);\n      return {\n        account,\n        chain: {\n          id,\n          unsupported\n        },\n        provider: new ethers__WEBPACK_IMPORTED_MODULE_6__.providers.Web3Provider(provider)\n      };\n    } catch (error) {\n      if (/user rejected/i.test(error?.message)) {\n        throw new _dist_errors_b9032b4e_esm_js__WEBPACK_IMPORTED_MODULE_7__.U(error);\n      }\n      throw error;\n    }\n  }\n  async disconnect() {\n    const cleanup = () => {\n      if (typeof localStorage === \"undefined\") {\n        return;\n      }\n      for (const key in localStorage) {\n        if (key.startsWith(\"wc@2\")) {\n          localStorage.removeItem(key);\n        }\n      }\n    };\n    cleanup();\n    const provider = await this.getProvider();\n    const disconnectProvider = async () => {\n      try {\n        await provider.disconnect();\n      } catch (error) {\n        if (!/No matching key/i.test(error.message)) {\n          throw error;\n        }\n      } finally {\n        (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _removeListeners, _removeListeners2).call(this);\n        await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _setRequestedChainsIds, _setRequestedChainsIds2).call(this, []);\n        cleanup();\n      }\n    };\n    disconnectProvider();\n  }\n  async getAccount() {\n    const {\n      accounts\n    } = await this.getProvider();\n    if (!accounts[0]) {\n      throw new Error(\"No accounts found on provider.\");\n    }\n    return ethers__WEBPACK_IMPORTED_MODULE_6__.utils.getAddress(accounts[0]);\n  }\n  async getChainId() {\n    const {\n      chainId\n    } = await this.getProvider();\n    return chainId;\n  }\n  async getProvider() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!(0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider)) {\n      await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _createProvider, _createProvider2).call(this);\n    }\n    if (chainId) {\n      await this.switchChain(chainId);\n    }\n    if (!(0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider)) {\n      throw new Error(\"No provider found.\");\n    }\n    return (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider);\n  }\n  async getSigner() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const [provider, account] = await Promise.all([this.getProvider({\n      chainId\n    }), this.getAccount()]);\n    return new ethers__WEBPACK_IMPORTED_MODULE_6__.providers.Web3Provider(provider, chainId).getSigner(account);\n  }\n  async isAuthorized() {\n    try {\n      const [account, provider] = await Promise.all([this.getAccount(), this.getProvider()]);\n      const isChainsStale = await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _isChainsStale, _isChainsStale2).call(this);\n\n      // If an account does not exist on the session, then the connector is unauthorized.\n      if (!account) {\n        return false;\n      }\n\n      // If the chains are stale on the session, then the connector is unauthorized.\n      if (isChainsStale && provider.session) {\n        try {\n          await provider.disconnect();\n        } catch {} // eslint-disable-line no-empty\n        return false;\n      }\n      return true;\n    } catch {\n      return false;\n    }\n  }\n  async switchChain(chainId) {\n    const chain = this.chains.find(chain_ => chain_.chainId === chainId);\n    if (!chain) {\n      throw new _dist_errors_b9032b4e_esm_js__WEBPACK_IMPORTED_MODULE_7__.S(`Chain with ID: ${chainId}, not found on connector.`);\n    }\n    try {\n      const provider = await this.getProvider();\n      const namespaceChains = (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _getNamespaceChainsIds, _getNamespaceChainsIds2).call(this);\n      const namespaceMethods = (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _getNamespaceMethods, _getNamespaceMethods2).call(this);\n      const isChainApproved = namespaceChains.includes(chainId);\n      if (!isChainApproved && namespaceMethods.includes(ADD_ETH_CHAIN_METHOD)) {\n        const firstExplorer = chain.explorers && chain.explorers[0];\n        const blockExplorerUrls = firstExplorer ? {\n          blockExplorerUrls: [firstExplorer.url]\n        } : {};\n        await provider.request({\n          method: ADD_ETH_CHAIN_METHOD,\n          params: [{\n            chainId: ethers__WEBPACK_IMPORTED_MODULE_6__.utils.hexValue(chain.chainId),\n            chainName: chain.name,\n            nativeCurrency: chain.nativeCurrency,\n            rpcUrls: (0,_dist_url_453bcd09_esm_js__WEBPACK_IMPORTED_MODULE_8__.g)(chain),\n            // no clientId on purpose\n            ...blockExplorerUrls\n          }]\n        });\n        const requestedChains = await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _getRequestedChainsIds, _getRequestedChainsIds2).call(this);\n        requestedChains.push(chainId);\n        await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _setRequestedChainsIds, _setRequestedChainsIds2).call(this, requestedChains);\n      }\n      await provider.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{\n          chainId: ethers__WEBPACK_IMPORTED_MODULE_6__.utils.hexValue(chainId)\n        }]\n      });\n      return chain;\n    } catch (error) {\n      const message = typeof error === \"string\" ? error : error?.message;\n      if (/user rejected request/i.test(message)) {\n        throw new _dist_errors_b9032b4e_esm_js__WEBPACK_IMPORTED_MODULE_7__.U(error);\n      }\n      throw new _dist_errors_b9032b4e_esm_js__WEBPACK_IMPORTED_MODULE_7__.S(error);\n    }\n  }\n  async setupListeners() {\n    if (!(0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider)) {\n      return;\n    }\n    (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _removeListeners, _removeListeners2).call(this);\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).on(\"accountsChanged\", this.onAccountsChanged);\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).on(\"chainChanged\", this.onChainChanged);\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).on(\"disconnect\", this.onDisconnect);\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).on(\"session_delete\", this.onDisconnect);\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).on(\"display_uri\", this.onDisplayUri);\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).on(\"connect\", this.onConnect);\n  }\n}\nasync function _createProvider2() {\n  if (!(0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _initProviderPromise) && typeof window !== \"undefined\") {\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.a)(this, _initProviderPromise, (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _initProvider, _initProvider2).call(this));\n  }\n  return (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _initProviderPromise);\n}\nasync function _initProvider2() {\n  const {\n    default: EthereumProvider,\n    OPTIONAL_EVENTS,\n    OPTIONAL_METHODS\n  } = await __webpack_require__.e(/*! import() */ \"_ssr_node_modules_walletconnect_ethereum-provider_dist_index_es_js\").then(__webpack_require__.bind(__webpack_require__, /*! @walletconnect/ethereum-provider */ \"(ssr)/./node_modules/@walletconnect/ethereum-provider/dist/index.es.js\"));\n  const [defaultChain, ...optionalChains] = this.filteredChains.map(_ref2 => {\n    let {\n      chainId\n    } = _ref2;\n    return chainId;\n  });\n  if (defaultChain) {\n    // EthereumProvider populates & deduplicates required methods and events internally\n    (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.a)(this, _provider, await EthereumProvider.init({\n      showQrModal: this.options.qrcode !== false,\n      projectId: this.options.projectId,\n      optionalMethods: OPTIONAL_METHODS,\n      optionalEvents: OPTIONAL_EVENTS,\n      chains: [defaultChain],\n      optionalChains: optionalChains,\n      metadata: {\n        name: this.options.dappMetadata.name,\n        description: this.options.dappMetadata.description || \"\",\n        url: this.options.dappMetadata.url,\n        icons: [this.options.dappMetadata.logoUrl || \"\"]\n      },\n      rpcMap: Object.fromEntries(this.filteredChains.map(chain => [chain.chainId, chain.rpc[0] || \"\" // TODO: handle chain.rpc being empty array\n      ])),\n\n      qrModalOptions: this.options.qrModalOptions\n    }));\n  }\n}\nasync function _isChainsStale2() {\n  const namespaceMethods = (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _getNamespaceMethods, _getNamespaceMethods2).call(this);\n  if (namespaceMethods.includes(ADD_ETH_CHAIN_METHOD)) {\n    return false;\n  }\n  if (!this.options.isNewChainsStale) {\n    return false;\n  }\n  const requestedChains = await (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _getRequestedChainsIds, _getRequestedChainsIds2).call(this);\n  const connectorChains = this.filteredChains.map(_ref3 => {\n    let {\n      chainId\n    } = _ref3;\n    return chainId;\n  });\n  const namespaceChains = (0,_dist_classPrivateMethodGet_71fe23d8_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(this, _getNamespaceChainsIds, _getNamespaceChainsIds2).call(this);\n  if (namespaceChains.length && !namespaceChains.some(id => connectorChains.includes(id))) {\n    return false;\n  }\n  return !connectorChains.every(id => requestedChains.includes(id));\n}\nfunction _removeListeners2() {\n  if (!(0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider)) {\n    return;\n  }\n  (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).removeListener(\"accountsChanged\", this.onAccountsChanged);\n  (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).removeListener(\"chainChanged\", this.onChainChanged);\n  (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).removeListener(\"disconnect\", this.onDisconnect);\n  (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).removeListener(\"session_delete\", this.onDisconnect);\n  (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).removeListener(\"display_uri\", this.onDisplayUri);\n  (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).removeListener(\"connect\", this.onConnect);\n}\nasync function _setRequestedChainsIds2(chains) {\n  await (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _storage).setItem(REQUESTED_CHAINS_KEY, JSON.stringify(chains));\n}\nasync function _getRequestedChainsIds2() {\n  const data = await (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _storage).getItem(REQUESTED_CHAINS_KEY);\n  return data ? JSON.parse(data) : [];\n}\nfunction _getNamespaceChainsIds2() {\n  if (!(0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider)) {\n    return [];\n  }\n  const chainIds = (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).session?.namespaces[NAMESPACE]?.chains?.map(chain => parseInt(chain.split(\":\")[1] || \"\"));\n  return chainIds ?? [];\n}\nfunction _getNamespaceMethods2() {\n  if (!(0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider)) {\n    return [];\n  }\n  const methods = (0,_dist_classPrivateFieldSet_e25e1cec_esm_js__WEBPACK_IMPORTED_MODULE_5__.b)(this, _provider).session?.namespaces[NAMESPACE]?.methods;\n  return methods ?? [];\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2V2bS9jb25uZWN0b3JzL3dhbGxldC1jb25uZWN0L2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtd2FsbGV0LWNvbm5lY3QuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXVJO0FBQ3lCO0FBQ3pFO0FBQzdDO0FBQ2tDO0FBQ0s7QUFDSztBQUN5QjtBQUNqRjtBQUNQOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxtRUFBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDhFQUEyQjtBQUMvQixJQUFJLDhFQUEyQjtBQUMvQixJQUFJLDhFQUEyQjtBQUMvQixJQUFJLDhFQUEyQjtBQUMvQixJQUFJLDhFQUEyQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksOEVBQTJCO0FBQy9CLElBQUksOEVBQTJCO0FBQy9CLElBQUksOEVBQTJCO0FBQy9CLElBQUksdUVBQWUsYUFBYSw4REFBUztBQUN6QyxJQUFJLHVFQUFlO0FBQ25CLElBQUksdUVBQWU7QUFDbkIsSUFBSSw2RUFBMEI7QUFDOUI7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDZFQUEwQjtBQUM5QjtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksNkVBQTBCO0FBQzlCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSx1RUFBZTtBQUNuQjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxxQkFBcUIseUNBQUs7QUFDMUIsV0FBVztBQUNYO0FB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QUNBLG1CQUFtQiw2RUFBcUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsT0FBTyw2RUFBcUI7QUFDNUI7QUFDQTtBQUNBLGtCQUFrQiw2RUFBcUI7QUFDdkM7QUFDQTs7QUFFa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHRvZ290Y2hpLy4vbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9ldm0vY29ubmVjdG9ycy93YWxsZXQtY29ubmVjdC9kaXN0L3RoaXJkd2ViLWRldi13YWxsZXRzLWV2bS1jb25uZWN0b3JzLXdhbGxldC1jb25uZWN0LmVzbS5qcz8wY2IyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF8gYXMgX2NsYXNzUHJpdmF0ZU1ldGhvZEluaXRTcGVjLCBhIGFzIF9jbGFzc1ByaXZhdGVNZXRob2RHZXQgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2NsYXNzUHJpdmF0ZU1ldGhvZEdldC03MWZlMjNkOC5lc20uanMnO1xuaW1wb3J0IHsgXyBhcyBfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYywgYiBhcyBfY2xhc3NQcml2YXRlRmllbGRHZXQsIGEgYXMgX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9jbGFzc1ByaXZhdGVGaWVsZFNldC1lMjVlMWNlYy5lc20uanMnO1xuaW1wb3J0IHsgXyBhcyBfZGVmaW5lUHJvcGVydHkgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2RlZmluZVByb3BlcnR5LWUyNGM4MmVhLmVzbS5qcyc7XG5pbXBvcnQgeyB1dGlscywgcHJvdmlkZXJzIH0gZnJvbSAnZXRoZXJzJztcbmltcG9ydCB7IHcgYXMgd2FsbGV0SWRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC93YWxsZXRJZHMtMThhOGU5NjkuZXNtLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0VmFsaWRQdWJsaWNSUENVcmwgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L3VybC00NTNiY2QwOS5lc20uanMnO1xuaW1wb3J0IHsgVyBhcyBXYWdtaUNvbm5lY3RvciB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvV2FnbWlDb25uZWN0b3ItNjAxMWJiYjEuZXNtLmpzJztcbmltcG9ydCB7IFUgYXMgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yLCBTIGFzIFN3aXRjaENoYWluRXJyb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L2Vycm9ycy1iOTAzMmI0ZS5lc20uanMnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NoYWlucyc7XG5pbXBvcnQgJ2V2ZW50ZW1pdHRlcjMnO1xuXG5jb25zdCBjaGFpbnNUb1JlcXVlc3QgPSBuZXcgU2V0KFsxLCAxMzcsIDEwLCA0MjE2MSwgNTZdKTtcbmNvbnN0IE5BTUVTUEFDRSA9IFwiZWlwMTU1XCI7XG5jb25zdCBSRVFVRVNURURfQ0hBSU5TX0tFWSA9IFwid2FnbWkucmVxdWVzdGVkQ2hhaW5zXCI7XG5jb25zdCBBRERfRVRIX0NIQUlOX01FVEhPRCA9IFwid2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW5cIjtcbmNvbnN0IExBU1RfVVNFRF9DSEFJTl9JRCA9IFwibGFzdC11c2VkLWNoYWluLWlkXCI7XG52YXIgX3Byb3ZpZGVyID0gLyojX19QVVJFX18qL25ldyBXZWFrTWFwKCk7XG52YXIgX2luaXRQcm92aWRlclByb21pc2UgPSAvKiNfX1BVUkVfXyovbmV3IFdlYWtNYXAoKTtcbnZhciBfc3RvcmFnZSA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xudmFyIF9jcmVhdGVQcm92aWRlciA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha1NldCgpO1xudmFyIF9pbml0UHJvdmlkZXIgPSAvKiNfX1BVUkVfXyovbmV3IFdlYWtTZXQoKTtcbnZhciBfaXNDaGFpbnNTdGFsZSA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha1NldCgpO1xudmFyIF9yZW1vdmVMaXN0ZW5lcnMgPSAvKiNfX1BVUkVfXyovbmV3IFdlYWtTZXQoKTtcbnZhciBfc2V0UmVxdWVzdGVkQ2hhaW5zSWRzID0gLyojX19QVVJFX18qL25ldyBXZWFrU2V0KCk7XG52YXIgX2dldFJlcXVlc3RlZENoYWluc0lkcyA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha1NldCgpO1xudmFyIF9nZXROYW1lc3BhY2VDaGFpbnNJZHMgPSAvKiNfX1BVUkVfXyovbmV3IFdlYWtTZXQoKTtcbnZhciBfZ2V0TmFtZXNwYWNlTWV0aG9kcyA9IC8qI19fUFVSRV9fKi9uZXcgV2Vha1NldCgpO1xuY2xhc3MgV2FsbGV0Q29ubmVjdENvbm5lY3RvciBleHRlbmRzIFdhZ21pQ29ubmVjdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4uY29uZmlnLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBpc05ld0NoYWluc1N0YWxlOiB0cnVlLFxuICAgICAgICAuLi5jb25maWcub3B0aW9uc1xuICAgICAgfVxuICAgIH0pO1xuICAgIF9jbGFzc1ByaXZhdGVNZXRob2RJbml0U3BlYyh0aGlzLCBfZ2V0TmFtZXNwYWNlTWV0aG9kcyk7XG4gICAgX2NsYXNzUHJpdmF0ZU1ldGhvZEluaXRTcGVjKHRoaXMsIF9nZXROYW1lc3BhY2VDaGFpbnNJZHMpO1xuICAgIF9jbGFzc1ByaXZhdGVNZXRob2RJbml0U3BlYyh0aGlzLCBfZ2V0UmVxdWVzdGVkQ2hhaW5zSWRzKTtcbiAgICBfY2xhc3NQcml2YXRlTWV0aG9kSW5pdFNwZWModGhpcywgX3NldFJlcXVlc3RlZENoYWluc0lkcyk7XG4gICAgX2NsYXNzUHJpdmF0ZU1ldGhvZEluaXRTcGVjKHRoaXMsIF9yZW1vdmVMaXN0ZW5lcnMpO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgdGFyZ2V0IGNoYWlucyBtYXRjaCB0aGUgY2hhaW5zIHRoYXQgd2VyZVxuICAgICAqIGluaXRpYWxseSByZXF1ZXN0ZWQgYnkgdGhlIGNvbm5lY3RvciBmb3IgdGhlIFdhbGxldENvbm5lY3Qgc2Vzc2lvbi5cbiAgICAgKiBJZiB0aGVyZSBpcyBhIG1pc21hdGNoLCB0aGlzIG1lYW5zIHRoYXQgdGhlIGNoYWlucyBvbiB0aGUgY29ubmVjdG9yXG4gICAgICogYXJlIGNvbnNpZGVyZWQgc3RhbGUsIGFuZCBuZWVkIHRvIGJlIHJldmFsaWRhdGVkIGF0IGEgbGF0ZXIgcG9pbnQgKHZpYVxuICAgICAqIGNvbm5lY3Rpb24pLlxuICAgICAqXG4gICAgICogVGhlcmUgbWF5IGJlIGEgc2NlbmFyaW8gd2hlcmUgYSBkYXBwIGFkZHMgYSBjaGFpbiB0byB0aGVcbiAgICAgKiBjb25uZWN0b3IgbGF0ZXIgb24sIGhvd2V2ZXIsIHRoaXMgY2hhaW4gd2lsbCBub3QgaGF2ZSBiZWVuIGFwcHJvdmVkIG9yIHJlamVjdGVkXG4gICAgICogYnkgdGhlIHdhbGxldC4gSW4gdGhpcyBjYXNlLCB0aGUgY2hhaW4gaXMgY29uc2lkZXJlZCBzdGFsZS5cbiAgICAgKlxuICAgICAqIFRoZXJlIGFyZSBleGNlcHRpb25zIGhvd2V2ZXI6XG4gICAgICogLSAgSWYgdGhlIHdhbGxldCBzdXBwb3J0cyBkeW5hbWljIGNoYWluIGFkZGl0aW9uIHZpYSBgZXRoX2FkZEV0aGVyZXVtQ2hhaW5gLFxuICAgICAqICAgIHRoZW4gdGhlIGNoYWluIGlzIG5vdCBjb25zaWRlcmVkIHN0YWxlLlxuICAgICAqIC0gIElmIHRoZSBgaXNOZXdDaGFpbnNTdGFsZWAgZmxhZyBpcyBmYWxzeSBvbiB0aGUgY29ubmVjdG9yLCB0aGVuIHRoZSBjaGFpbiBpc1xuICAgICAqICAgIG5vdCBjb25zaWRlcmVkIHN0YWxlLlxuICAgICAqXG4gICAgICogRm9yIHRoZSBhYm92ZSBjYXNlcywgY2hhaW4gdmFsaWRhdGlvbiBvY2N1cnMgZHluYW1pY2FsbHkgd2hlbiB0aGUgdXNlclxuICAgICAqIGF0dGVtcHRzIHRvIHN3aXRjaCBjaGFpbi5cbiAgICAgKlxuICAgICAqIEFsc28gY2hlY2sgdGhhdCBkYXBwIHN1cHBvcnRzIGF0IGxlYXN0IDEgY2hhaW4gZnJvbSBwcmV2aW91c2x5IGFwcHJvdmVkIHNlc3Npb24uXG4gICAgICovXG4gICAgX2NsYXNzUHJpdmF0ZU1ldGhvZEluaXRTcGVjKHRoaXMsIF9pc0NoYWluc1N0YWxlKTtcbiAgICBfY2xhc3NQcml2YXRlTWV0aG9kSW5pdFNwZWModGhpcywgX2luaXRQcm92aWRlcik7XG4gICAgX2NsYXNzUHJpdmF0ZU1ldGhvZEluaXRTcGVjKHRoaXMsIF9jcmVhdGVQcm92aWRlcik7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaWRcIiwgd2FsbGV0SWRzLndhbGxldENvbm5lY3QpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwgXCJXYWxsZXRDb25uZWN0XCIpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlYWR5XCIsIHRydWUpO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZEluaXRTcGVjKHRoaXMsIF9wcm92aWRlciwge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdm9pZCAwXG4gICAgfSk7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkSW5pdFNwZWModGhpcywgX2luaXRQcm92aWRlclByb21pc2UsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZEluaXRTcGVjKHRoaXMsIF9zdG9yYWdlLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkFjY291bnRzQ2hhbmdlZFwiLCBhY2NvdW50cyA9PiB7XG4gICAgICBpZiAoYWNjb3VudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuZW1pdChcImRpc2Nvbm5lY3RcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYWNjb3VudHNbMF0pIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge1xuICAgICAgICAgICAgYWNjb3VudDogdXRpbHMuZ2V0QWRkcmVzcyhhY2NvdW50c1swXSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uQ2hhaW5DaGFuZ2VkXCIsIGFzeW5jIGNoYWluSWQgPT4ge1xuICAgICAgY29uc3QgaWQgPSBOdW1iZXIoY2hhaW5JZCk7XG4gICAgICBjb25zdCB1bnN1cHBvcnRlZCA9IHRoaXMuaXNDaGFpblVuc3VwcG9ydGVkKGlkKTtcbiAgICAgIGF3YWl0IF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfc3RvcmFnZSkuc2V0SXRlbShMQVNUX1VTRURfQ0hBSU5fSUQsIFN0cmluZyhjaGFpbklkKSk7XG4gICAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwge1xuICAgICAgICBjaGFpbjoge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHVuc3VwcG9ydGVkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uRGlzY29ubmVjdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBfY2xhc3NQcml2YXRlTWV0aG9kR2V0KHRoaXMsIF9zZXRSZXF1ZXN0ZWRDaGFpbnNJZHMsIF9zZXRSZXF1ZXN0ZWRDaGFpbnNJZHMyKS5jYWxsKHRoaXMsIFtdKTtcbiAgICAgIGF3YWl0IF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfc3RvcmFnZSkucmVtb3ZlSXRlbShMQVNUX1VTRURfQ0hBSU5fSUQpO1xuICAgICAgdGhpcy5lbWl0KFwiZGlzY29ubmVjdFwiKTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkRpc3BsYXlVcmlcIiwgdXJpID0+IHtcbiAgICAgIHRoaXMuZW1pdChcIm1lc3NhZ2VcIiwge1xuICAgICAgICB0eXBlOiBcImRpc3BsYXlfdXJpXCIsXG4gICAgICAgIGRhdGE6IHVyaVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25Db25uZWN0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuZW1pdChcImNvbm5lY3RcIiwge1xuICAgICAgICBwcm92aWRlcjogX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wcm92aWRlcilcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfc3RvcmFnZSwgY29uZmlnLm9wdGlvbnMuc3RvcmFnZSk7XG4gICAgX2NsYXNzUHJpdmF0ZU1ldGhvZEdldCh0aGlzLCBfY3JlYXRlUHJvdmlkZXIsIF9jcmVhdGVQcm92aWRlcjIpLmNhbGwodGhpcyk7XG4gICAgdGhpcy5maWx0ZXJlZENoYWlucyA9IHRoaXMuY2hhaW5zLmxlbmd0aCA+IDUwID8gdGhpcy5jaGFpbnMuZmlsdGVyKGMgPT4ge1xuICAgICAgcmV0dXJuIGNoYWluc1RvUmVxdWVzdC5oYXMoYy5jaGFpbklkKTtcbiAgICB9KSA6IHRoaXMuY2hhaW5zO1xuICB9XG4gIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgbGV0IHtcbiAgICAgIGNoYWluSWQ6IGNoYWluSWRQLFxuICAgICAgcGFpcmluZ1RvcGljXG4gICAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdHJ5IHtcbiAgICAgIGxldCB0YXJnZXRDaGFpbklkID0gY2hhaW5JZFA7XG4gICAgICBpZiAoIXRhcmdldENoYWluSWQpIHtcbiAgICAgICAgY29uc3QgbGFzdFVzZWRDaGFpbklkU3RyID0gYXdhaXQgX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9zdG9yYWdlKS5nZXRJdGVtKExBU1RfVVNFRF9DSEFJTl9JRCk7XG4gICAgICAgIGNvbnN0IGxhc3RVc2VkQ2hhaW5JZCA9IGxhc3RVc2VkQ2hhaW5JZFN0ciA/IHBhcnNlSW50KGxhc3RVc2VkQ2hhaW5JZFN0cikgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChsYXN0VXNlZENoYWluSWQgJiYgIXRoaXMuaXNDaGFpblVuc3VwcG9ydGVkKGxhc3RVc2VkQ2hhaW5JZCkpIHtcbiAgICAgICAgICB0YXJnZXRDaGFpbklkID0gbGFzdFVzZWRDaGFpbklkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldENoYWluSWQgPSB0aGlzLmZpbHRlcmVkQ2hhaW5zWzBdPy5jaGFpbklkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXRhcmdldENoYWluSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY2hhaW5zIGZvdW5kIG9uIGNvbm5lY3Rvci5cIik7XG4gICAgICB9XG4gICAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICAgIHRoaXMuc2V0dXBMaXN0ZW5lcnMoKTtcbiAgICAgIGNvbnN0IGlzQ2hhaW5zU3RhbGUgPSBhd2FpdCBfY2xhc3NQcml2YXRlTWV0aG9kR2V0KHRoaXMsIF9pc0NoYWluc1N0YWxlLCBfaXNDaGFpbnNTdGFsZTIpLmNhbGwodGhpcyk7XG5cbiAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGFjdGl2ZSBzZXNzaW9uIHdpdGggc3RhbGUgY2hhaW5zLCBkaXNjb25uZWN0IHRoZSBjdXJyZW50IHNlc3Npb24uXG4gICAgICBpZiAocHJvdmlkZXIuc2Vzc2lvbiAmJiBpc0NoYWluc1N0YWxlKSB7XG4gICAgICAgIGF3YWl0IHByb3ZpZGVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgbm8gYWN0aXZlIHNlc3Npb24sIG9yIHRoZSBjaGFpbnMgYXJlIHN0YWxlLCBjb25uZWN0LlxuICAgICAgaWYgKCFwcm92aWRlci5zZXNzaW9uIHx8IGlzQ2hhaW5zU3RhbGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uYWxDaGFpbnMgPSB0aGlzLmZpbHRlcmVkQ2hhaW5zLmZpbHRlcihjaGFpbiA9PiBjaGFpbi5jaGFpbklkICE9PSB0YXJnZXRDaGFpbklkKS5tYXAob3B0aW9uYWxDaGFpbiA9PiBvcHRpb25hbENoYWluLmNoYWluSWQpO1xuICAgICAgICB0aGlzLmVtaXQoXCJtZXNzYWdlXCIsIHtcbiAgICAgICAgICB0eXBlOiBcImNvbm5lY3RpbmdcIlxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcHJvdmlkZXIuY29ubmVjdCh7XG4gICAgICAgICAgcGFpcmluZ1RvcGljLFxuICAgICAgICAgIGNoYWluczogW3RhcmdldENoYWluSWRdLFxuICAgICAgICAgIG9wdGlvbmFsQ2hhaW5zOiBvcHRpb25hbENoYWlucy5sZW5ndGggPiAwID8gb3B0aW9uYWxDaGFpbnMgOiBbdGFyZ2V0Q2hhaW5JZF1cbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IF9jbGFzc1ByaXZhdGVNZXRob2RHZXQodGhpcywgX3NldFJlcXVlc3RlZENoYWluc0lkcywgX3NldFJlcXVlc3RlZENoYWluc0lkczIpLmNhbGwodGhpcywgdGhpcy5maWx0ZXJlZENoYWlucy5tYXAoX3JlZiA9PiB7XG4gICAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIGNoYWluSWRcbiAgICAgICAgICB9ID0gX3JlZjtcbiAgICAgICAgICByZXR1cm4gY2hhaW5JZDtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBzZXNzaW9uIGV4aXN0cyBhbmQgY2hhaW5zIGFyZSBhdXRob3JpemVkLCBlbmFibGUgcHJvdmlkZXIgZm9yIHJlcXVpcmVkIGNoYWluXG4gICAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IHByb3ZpZGVyLmVuYWJsZSgpO1xuICAgICAgaWYgKCFhY2NvdW50c1swXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhY2NvdW50cyBmb3VuZCBvbiBwcm92aWRlci5cIik7XG4gICAgICB9XG4gICAgICBjb25zdCBhY2NvdW50ID0gdXRpbHMuZ2V0QWRkcmVzcyhhY2NvdW50c1swXSk7XG4gICAgICBjb25zdCBpZCA9IGF3YWl0IHRoaXMuZ2V0Q2hhaW5JZCgpO1xuICAgICAgY29uc3QgdW5zdXBwb3J0ZWQgPSB0aGlzLmlzQ2hhaW5VbnN1cHBvcnRlZChpZCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY2NvdW50LFxuICAgICAgICBjaGFpbjoge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHVuc3VwcG9ydGVkXG4gICAgICAgIH0sXG4gICAgICAgIHByb3ZpZGVyOiBuZXcgcHJvdmlkZXJzLldlYjNQcm92aWRlcihwcm92aWRlcilcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICgvdXNlciByZWplY3RlZC9pLnRlc3QoZXJyb3I/Lm1lc3NhZ2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGxvY2FsU3RvcmFnZSkge1xuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoXCJ3Y0AyXCIpKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgY2xlYW51cCgpO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgIGNvbnN0IGRpc2Nvbm5lY3RQcm92aWRlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb3ZpZGVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmICghL05vIG1hdGNoaW5nIGtleS9pLnRlc3QoZXJyb3IubWVzc2FnZSkpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2NsYXNzUHJpdmF0ZU1ldGhvZEdldCh0aGlzLCBfcmVtb3ZlTGlzdGVuZXJzLCBfcmVtb3ZlTGlzdGVuZXJzMikuY2FsbCh0aGlzKTtcbiAgICAgICAgYXdhaXQgX2NsYXNzUHJpdmF0ZU1ldGhvZEdldCh0aGlzLCBfc2V0UmVxdWVzdGVkQ2hhaW5zSWRzLCBfc2V0UmVxdWVzdGVkQ2hhaW5zSWRzMikuY2FsbCh0aGlzLCBbXSk7XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGRpc2Nvbm5lY3RQcm92aWRlcigpO1xuICB9XG4gIGFzeW5jIGdldEFjY291bnQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgYWNjb3VudHNcbiAgICB9ID0gYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgIGlmICghYWNjb3VudHNbMF0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjY291bnRzIGZvdW5kIG9uIHByb3ZpZGVyLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHV0aWxzLmdldEFkZHJlc3MoYWNjb3VudHNbMF0pO1xuICB9XG4gIGFzeW5jIGdldENoYWluSWQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2hhaW5JZFxuICAgIH0gPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgcmV0dXJuIGNoYWluSWQ7XG4gIH1cbiAgYXN5bmMgZ2V0UHJvdmlkZXIoKSB7XG4gICAgbGV0IHtcbiAgICAgIGNoYWluSWRcbiAgICB9ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpKSB7XG4gICAgICBhd2FpdCBfY2xhc3NQcml2YXRlTWV0aG9kR2V0KHRoaXMsIF9jcmVhdGVQcm92aWRlciwgX2NyZWF0ZVByb3ZpZGVyMikuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgaWYgKGNoYWluSWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuc3dpdGNoQ2hhaW4oY2hhaW5JZCk7XG4gICAgfVxuICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wcm92aWRlcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHByb3ZpZGVyIGZvdW5kLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpO1xuICB9XG4gIGFzeW5jIGdldFNpZ25lcigpIHtcbiAgICBsZXQge1xuICAgICAgY2hhaW5JZFxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIGNvbnN0IFtwcm92aWRlciwgYWNjb3VudF0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5nZXRQcm92aWRlcih7XG4gICAgICBjaGFpbklkXG4gICAgfSksIHRoaXMuZ2V0QWNjb3VudCgpXSk7XG4gICAgcmV0dXJuIG5ldyBwcm92aWRlcnMuV2ViM1Byb3ZpZGVyKHByb3ZpZGVyLCBjaGFpbklkKS5nZXRTaWduZXIoYWNjb3VudCk7XG4gIH1cbiAgYXN5bmMgaXNBdXRob3JpemVkKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbYWNjb3VudCwgcHJvdmlkZXJdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuZ2V0QWNjb3VudCgpLCB0aGlzLmdldFByb3ZpZGVyKCldKTtcbiAgICAgIGNvbnN0IGlzQ2hhaW5zU3RhbGUgPSBhd2FpdCBfY2xhc3NQcml2YXRlTWV0aG9kR2V0KHRoaXMsIF9pc0NoYWluc1N0YWxlLCBfaXNDaGFpbnNTdGFsZTIpLmNhbGwodGhpcyk7XG5cbiAgICAgIC8vIElmIGFuIGFjY291bnQgZG9lcyBub3QgZXhpc3Qgb24gdGhlIHNlc3Npb24sIHRoZW4gdGhlIGNvbm5lY3RvciBpcyB1bmF1dGhvcml6ZWQuXG4gICAgICBpZiAoIWFjY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgY2hhaW5zIGFyZSBzdGFsZSBvbiB0aGUgc2Vzc2lvbiwgdGhlbiB0aGUgY29ubmVjdG9yIGlzIHVuYXV0aG9yaXplZC5cbiAgICAgIGlmIChpc0NoYWluc1N0YWxlICYmIHByb3ZpZGVyLnNlc3Npb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBwcm92aWRlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH0gY2F0Y2gge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgc3dpdGNoQ2hhaW4oY2hhaW5JZCkge1xuICAgIGNvbnN0IGNoYWluID0gdGhpcy5jaGFpbnMuZmluZChjaGFpbl8gPT4gY2hhaW5fLmNoYWluSWQgPT09IGNoYWluSWQpO1xuICAgIGlmICghY2hhaW4pIHtcbiAgICAgIHRocm93IG5ldyBTd2l0Y2hDaGFpbkVycm9yKGBDaGFpbiB3aXRoIElEOiAke2NoYWluSWR9LCBub3QgZm91bmQgb24gY29ubmVjdG9yLmApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgICBjb25zdCBuYW1lc3BhY2VDaGFpbnMgPSBfY2xhc3NQcml2YXRlTWV0aG9kR2V0KHRoaXMsIF9nZXROYW1lc3BhY2VDaGFpbnNJZHMsIF9nZXROYW1lc3BhY2VDaGFpbnNJZHMyKS5jYWxsKHRoaXMpO1xuICAgICAgY29uc3QgbmFtZXNwYWNlTWV0aG9kcyA9IF9jbGFzc1ByaXZhdGVNZXRob2RHZXQodGhpcywgX2dldE5hbWVzcGFjZU1ldGhvZHMsIF9nZXROYW1lc3BhY2VNZXRob2RzMikuY2FsbCh0aGlzKTtcbiAgICAgIGNvbnN0IGlzQ2hhaW5BcHByb3ZlZCA9IG5hbWVzcGFjZUNoYWlucy5pbmNsdWRlcyhjaGFpbklkKTtcbiAgICAgIGlmICghaXNDaGFpbkFwcHJvdmVkICYmIG5hbWVzcGFjZU1ldGhvZHMuaW5jbHVkZXMoQUREX0VUSF9DSEFJTl9NRVRIT0QpKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0RXhwbG9yZXIgPSBjaGFpbi5leHBsb3JlcnMgJiYgY2hhaW4uZXhwbG9yZXJzWzBdO1xuICAgICAgICBjb25zdCBibG9ja0V4cGxvcmVyVXJscyA9IGZpcnN0RXhwbG9yZXIgPyB7XG4gICAgICAgICAgYmxvY2tFeHBsb3JlclVybHM6IFtmaXJzdEV4cGxvcmVyLnVybF1cbiAgICAgICAgfSA6IHt9O1xuICAgICAgICBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgICAgICBtZXRob2Q6IEFERF9FVEhfQ0hBSU5fTUVUSE9ELFxuICAgICAgICAgIHBhcmFtczogW3tcbiAgICAgICAgICAgIGNoYWluSWQ6IHV0aWxzLmhleFZhbHVlKGNoYWluLmNoYWluSWQpLFxuICAgICAgICAgICAgY2hhaW5OYW1lOiBjaGFpbi5uYW1lLFxuICAgICAgICAgICAgbmF0aXZlQ3VycmVuY3k6IGNoYWluLm5hdGl2ZUN1cnJlbmN5LFxuICAgICAgICAgICAgcnBjVXJsczogZ2V0VmFsaWRQdWJsaWNSUENVcmwoY2hhaW4pLFxuICAgICAgICAgICAgLy8gbm8gY2xpZW50SWQgb24gcHVycG9zZVxuICAgICAgICAgICAgLi4uYmxvY2tFeHBsb3JlclVybHNcbiAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkQ2hhaW5zID0gYXdhaXQgX2NsYXNzUHJpdmF0ZU1ldGhvZEdldCh0aGlzLCBfZ2V0UmVxdWVzdGVkQ2hhaW5zSWRzLCBfZ2V0UmVxdWVzdGVkQ2hhaW5zSWRzMikuY2FsbCh0aGlzKTtcbiAgICAgICAgcmVxdWVzdGVkQ2hhaW5zLnB1c2goY2hhaW5JZCk7XG4gICAgICAgIGF3YWl0IF9jbGFzc1ByaXZhdGVNZXRob2RHZXQodGhpcywgX3NldFJlcXVlc3RlZENoYWluc0lkcywgX3NldFJlcXVlc3RlZENoYWluc0lkczIpLmNhbGwodGhpcywgcmVxdWVzdGVkQ2hhaW5zKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHByb3ZpZGVyLnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6IFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIixcbiAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgIGNoYWluSWQ6IHV0aWxzLmhleFZhbHVlKGNoYWluSWQpXG4gICAgICAgIH1dXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjaGFpbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IHR5cGVvZiBlcnJvciA9PT0gXCJzdHJpbmdcIiA/IGVycm9yIDogZXJyb3I/Lm1lc3NhZ2U7XG4gICAgICBpZiAoL3VzZXIgcmVqZWN0ZWQgcmVxdWVzdC9pLnRlc3QobWVzc2FnZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgU3dpdGNoQ2hhaW5FcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG4gIGFzeW5jIHNldHVwTGlzdGVuZXJzKCkge1xuICAgIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wcm92aWRlcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2NsYXNzUHJpdmF0ZU1ldGhvZEdldCh0aGlzLCBfcmVtb3ZlTGlzdGVuZXJzLCBfcmVtb3ZlTGlzdGVuZXJzMikuY2FsbCh0aGlzKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3Byb3ZpZGVyKS5vbihcImFjY291bnRzQ2hhbmdlZFwiLCB0aGlzLm9uQWNjb3VudHNDaGFuZ2VkKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3Byb3ZpZGVyKS5vbihcImNoYWluQ2hhbmdlZFwiLCB0aGlzLm9uQ2hhaW5DaGFuZ2VkKTtcbiAgICBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3Byb3ZpZGVyKS5vbihcImRpc2Nvbm5lY3RcIiwgdGhpcy5vbkRpc2Nvbm5lY3QpO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpLm9uKFwic2Vzc2lvbl9kZWxldGVcIiwgdGhpcy5vbkRpc2Nvbm5lY3QpO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpLm9uKFwiZGlzcGxheV91cmlcIiwgdGhpcy5vbkRpc3BsYXlVcmkpO1xuICAgIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpLm9uKFwiY29ubmVjdFwiLCB0aGlzLm9uQ29ubmVjdCk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIF9jcmVhdGVQcm92aWRlcjIoKSB7XG4gIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9pbml0UHJvdmlkZXJQcm9taXNlKSAmJiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9pbml0UHJvdmlkZXJQcm9taXNlLCBfY2xhc3NQcml2YXRlTWV0aG9kR2V0KHRoaXMsIF9pbml0UHJvdmlkZXIsIF9pbml0UHJvdmlkZXIyKS5jYWxsKHRoaXMpKTtcbiAgfVxuICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9pbml0UHJvdmlkZXJQcm9taXNlKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIF9pbml0UHJvdmlkZXIyKCkge1xuICBjb25zdCB7XG4gICAgZGVmYXVsdDogRXRoZXJldW1Qcm92aWRlcixcbiAgICBPUFRJT05BTF9FVkVOVFMsXG4gICAgT1BUSU9OQUxfTUVUSE9EU1xuICB9ID0gYXdhaXQgaW1wb3J0KCdAd2FsbGV0Y29ubmVjdC9ldGhlcmV1bS1wcm92aWRlcicpO1xuICBjb25zdCBbZGVmYXVsdENoYWluLCAuLi5vcHRpb25hbENoYWluc10gPSB0aGlzLmZpbHRlcmVkQ2hhaW5zLm1hcChfcmVmMiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoYWluSWRcbiAgICB9ID0gX3JlZjI7XG4gICAgcmV0dXJuIGNoYWluSWQ7XG4gIH0pO1xuICBpZiAoZGVmYXVsdENoYWluKSB7XG4gICAgLy8gRXRoZXJldW1Qcm92aWRlciBwb3B1bGF0ZXMgJiBkZWR1cGxpY2F0ZXMgcmVxdWlyZWQgbWV0aG9kcyBhbmQgZXZlbnRzIGludGVybmFsbHlcbiAgICBfY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX3Byb3ZpZGVyLCBhd2FpdCBFdGhlcmV1bVByb3ZpZGVyLmluaXQoe1xuICAgICAgc2hvd1FyTW9kYWw6IHRoaXMub3B0aW9ucy5xcmNvZGUgIT09IGZhbHNlLFxuICAgICAgcHJvamVjdElkOiB0aGlzLm9wdGlvbnMucHJvamVjdElkLFxuICAgICAgb3B0aW9uYWxNZXRob2RzOiBPUFRJT05BTF9NRVRIT0RTLFxuICAgICAgb3B0aW9uYWxFdmVudHM6IE9QVElPTkFMX0VWRU5UUyxcbiAgICAgIGNoYWluczogW2RlZmF1bHRDaGFpbl0sXG4gICAgICBvcHRpb25hbENoYWluczogb3B0aW9uYWxDaGFpbnMsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBuYW1lOiB0aGlzLm9wdGlvbnMuZGFwcE1ldGFkYXRhLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLm9wdGlvbnMuZGFwcE1ldGFkYXRhLmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgIHVybDogdGhpcy5vcHRpb25zLmRhcHBNZXRhZGF0YS51cmwsXG4gICAgICAgIGljb25zOiBbdGhpcy5vcHRpb25zLmRhcHBNZXRhZGF0YS5sb2dvVXJsIHx8IFwiXCJdXG4gICAgICB9LFxuICAgICAgcnBjTWFwOiBPYmplY3QuZnJvbUVudHJpZXModGhpcy5maWx0ZXJlZENoYWlucy5tYXAoY2hhaW4gPT4gW2NoYWluLmNoYWluSWQsIGNoYWluLnJwY1swXSB8fCBcIlwiIC8vIFRPRE86IGhhbmRsZSBjaGFpbi5ycGMgYmVpbmcgZW1wdHkgYXJyYXlcbiAgICAgIF0pKSxcblxuICAgICAgcXJNb2RhbE9wdGlvbnM6IHRoaXMub3B0aW9ucy5xck1vZGFsT3B0aW9uc1xuICAgIH0pKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gX2lzQ2hhaW5zU3RhbGUyKCkge1xuICBjb25zdCBuYW1lc3BhY2VNZXRob2RzID0gX2NsYXNzUHJpdmF0ZU1ldGhvZEdldCh0aGlzLCBfZ2V0TmFtZXNwYWNlTWV0aG9kcywgX2dldE5hbWVzcGFjZU1ldGhvZHMyKS5jYWxsKHRoaXMpO1xuICBpZiAobmFtZXNwYWNlTWV0aG9kcy5pbmNsdWRlcyhBRERfRVRIX0NIQUlOX01FVEhPRCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCF0aGlzLm9wdGlvbnMuaXNOZXdDaGFpbnNTdGFsZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCByZXF1ZXN0ZWRDaGFpbnMgPSBhd2FpdCBfY2xhc3NQcml2YXRlTWV0aG9kR2V0KHRoaXMsIF9nZXRSZXF1ZXN0ZWRDaGFpbnNJZHMsIF9nZXRSZXF1ZXN0ZWRDaGFpbnNJZHMyKS5jYWxsKHRoaXMpO1xuICBjb25zdCBjb25uZWN0b3JDaGFpbnMgPSB0aGlzLmZpbHRlcmVkQ2hhaW5zLm1hcChfcmVmMyA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoYWluSWRcbiAgICB9ID0gX3JlZjM7XG4gICAgcmV0dXJuIGNoYWluSWQ7XG4gIH0pO1xuICBjb25zdCBuYW1lc3BhY2VDaGFpbnMgPSBfY2xhc3NQcml2YXRlTWV0aG9kR2V0KHRoaXMsIF9nZXROYW1lc3BhY2VDaGFpbnNJZHMsIF9nZXROYW1lc3BhY2VDaGFpbnNJZHMyKS5jYWxsKHRoaXMpO1xuICBpZiAobmFtZXNwYWNlQ2hhaW5zLmxlbmd0aCAmJiAhbmFtZXNwYWNlQ2hhaW5zLnNvbWUoaWQgPT4gY29ubmVjdG9yQ2hhaW5zLmluY2x1ZGVzKGlkKSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuICFjb25uZWN0b3JDaGFpbnMuZXZlcnkoaWQgPT4gcmVxdWVzdGVkQ2hhaW5zLmluY2x1ZGVzKGlkKSk7XG59XG5mdW5jdGlvbiBfcmVtb3ZlTGlzdGVuZXJzMigpIHtcbiAgaWYgKCFfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3Byb3ZpZGVyKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3Byb3ZpZGVyKS5yZW1vdmVMaXN0ZW5lcihcImFjY291bnRzQ2hhbmdlZFwiLCB0aGlzLm9uQWNjb3VudHNDaGFuZ2VkKTtcbiAgX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wcm92aWRlcikucmVtb3ZlTGlzdGVuZXIoXCJjaGFpbkNoYW5nZWRcIiwgdGhpcy5vbkNoYWluQ2hhbmdlZCk7XG4gIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpLnJlbW92ZUxpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCB0aGlzLm9uRGlzY29ubmVjdCk7XG4gIF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpLnJlbW92ZUxpc3RlbmVyKFwic2Vzc2lvbl9kZWxldGVcIiwgdGhpcy5vbkRpc2Nvbm5lY3QpO1xuICBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3Byb3ZpZGVyKS5yZW1vdmVMaXN0ZW5lcihcImRpc3BsYXlfdXJpXCIsIHRoaXMub25EaXNwbGF5VXJpKTtcbiAgX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wcm92aWRlcikucmVtb3ZlTGlzdGVuZXIoXCJjb25uZWN0XCIsIHRoaXMub25Db25uZWN0KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIF9zZXRSZXF1ZXN0ZWRDaGFpbnNJZHMyKGNoYWlucykge1xuICBhd2FpdCBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3N0b3JhZ2UpLnNldEl0ZW0oUkVRVUVTVEVEX0NIQUlOU19LRVksIEpTT04uc3RyaW5naWZ5KGNoYWlucykpO1xufVxuYXN5bmMgZnVuY3Rpb24gX2dldFJlcXVlc3RlZENoYWluc0lkczIoKSB7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBfY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX3N0b3JhZ2UpLmdldEl0ZW0oUkVRVUVTVEVEX0NIQUlOU19LRVkpO1xuICByZXR1cm4gZGF0YSA/IEpTT04ucGFyc2UoZGF0YSkgOiBbXTtcbn1cbmZ1bmN0aW9uIF9nZXROYW1lc3BhY2VDaGFpbnNJZHMyKCkge1xuICBpZiAoIV9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGNoYWluSWRzID0gX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wcm92aWRlcikuc2Vzc2lvbj8ubmFtZXNwYWNlc1tOQU1FU1BBQ0VdPy5jaGFpbnM/Lm1hcChjaGFpbiA9PiBwYXJzZUludChjaGFpbi5zcGxpdChcIjpcIilbMV0gfHwgXCJcIikpO1xuICByZXR1cm4gY2hhaW5JZHMgPz8gW107XG59XG5mdW5jdGlvbiBfZ2V0TmFtZXNwYWNlTWV0aG9kczIoKSB7XG4gIGlmICghX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wcm92aWRlcikpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgbWV0aG9kcyA9IF9jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfcHJvdmlkZXIpLnNlc3Npb24/Lm5hbWVzcGFjZXNbTkFNRVNQQUNFXT8ubWV0aG9kcztcbiAgcmV0dXJuIG1ldGhvZHMgPz8gW107XG59XG5cbmV4cG9ydCB7IFdhbGxldENvbm5lY3RDb25uZWN0b3IgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@thirdweb-dev/wallets/evm/connectors/wallet-connect/dist/thirdweb-dev-wallets-evm-connectors-wallet-connect.esm.js\n");

/***/ })

};
;